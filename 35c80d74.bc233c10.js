(window.webpackJsonp=window.webpackJsonp||[]).push([[173],{243:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return c})),n.d(t,"rightToc",(function(){return s})),n.d(t,"default",(function(){return l}));var r=n(3),o=n(8),a=(n(0),n(872)),i={title:"End to End Quickstart Script"},c={unversionedId:"quickstart",id:"quickstart",isDocsHomePage:!1,title:"End to End Quickstart Script",description:"To quickly set up an easy-to-use environment for the Trustlines Protocol, one can use the end2end quickstart package.",source:"@site/endtoend/quickstart.md",slug:"/quickstart",permalink:"/endtoend/quickstart",editUrl:"https://github.com/trustlines-protocol/tl-dev-docs/edit/master/endtoend/quickstart.md",version:"current",sidebar:"End2end",next:{title:"Dependencies",permalink:"/endtoend/dependencies"}},s=[{value:"Get Up and Running",id:"get-up-and-running",children:[]},{value:"Running the script",id:"running-the-script",children:[]},{value:"Stopping and restarting services",id:"stopping-and-restarting-services",children:[]}],p={rightToc:s};function l(e){var t=e.components,n=Object(o.a)(e,["components"]);return Object(a.b)("wrapper",Object(r.a)({},p,n,{components:t,mdxType:"MDXLayout"}),Object(a.b)("p",null,"To quickly set up an easy-to-use environment for the Trustlines Protocol, one can use the ",Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"https://github.com/trustlines-protocol/end2end/tree/master/quickstart"}),"end2end quickstart package"),"."),Object(a.b)("h2",{id:"get-up-and-running"},"Get Up and Running"),Object(a.b)("p",null,"You will need to have ",Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"https://docker.com"}),"Docker")," and ",Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"https://docs.docker.com/compose/"}),"docker-compose"),"\ninstalled and configured. You must have at least version ",Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"https://github.com/docker/compose/releases/tag/1.18.0"}),Object(a.b)("inlineCode",{parentName:"a"},"1.18.0")),"\nof ",Object(a.b)("inlineCode",{parentName:"p"},"docker-compose"),". Please refer to the official documentation and make sure your user is added\nto the ",Object(a.b)("inlineCode",{parentName:"p"},"docker")," user group if you cannot access root permissions to run containers."),Object(a.b)("p",null,"You will also need python3.6 or up and pip."),Object(a.b)("p",null,"To start installing the pre-requisites on Ubuntu 18.04, run the following command:"),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{}),"sudo apt install build-essential python3 python3-pip python3-dev libsecp256k1-dev \\\npython3-virtualenv virtualenv pkg-config libssl-dev automake \\\nautoconf libtool git libpq-dev\n")),Object(a.b)("p",null,"You should then clone the repository:"),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{}),"git clone https://github.com/trustlines-protocol/end2end.git\ncd end2end\n")),Object(a.b)("p",null,"then create and activate a fresh virtual environment:"),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{}),"virtualenv -p python3 venv\nsource venv/bin/activate\n")),Object(a.b)("p",null,"Finally, to install all dependencies and the quickstart script, run:"),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{}),"pip install -r quickstart/requirements.txt -e quickstart/\n")),Object(a.b)("p",null,"You can verify the proper installation by running ",Object(a.b)("inlineCode",{parentName:"p"},"quickstart --help")," which should bring about the help."),Object(a.b)("h2",{id:"running-the-script"},"Running the script"),Object(a.b)("p",null,"You can run the script with ",Object(a.b)("inlineCode",{parentName:"p"},"quickstart tlbc")," or ",Object(a.b)("inlineCode",{parentName:"p"},"quickstart laika"),", depending on whether you want to\ntest out the Trustlines system on the main Trustlines Blockchain or the Laika testnet."),Object(a.b)("p",null,"To test out the system you will need an account with either TLC or Laika coins.\nIf you do not have access to coins, you can still test out the system with a private dev chain by running\n",Object(a.b)("inlineCode",{parentName:"p"},"./run-e2e.sh")," in the root folder of this repository."),Object(a.b)("p",null,"The script will prompt you for three means of setting up your account:"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"Generate a new private key, you will need to transfer coins to the new address"),Object(a.b)("li",{parentName:"ul"},"Import an encrypted keystore.json"),Object(a.b)("li",{parentName:"ul"},"Import a raw private key")),Object(a.b)("p",null,"The script will generate a new directory called either ",Object(a.b)("inlineCode",{parentName:"p"},"/tlbc")," or ",Object(a.b)("inlineCode",{parentName:"p"},"/laika")," with all the\nfiles necessary to run the trustlines system. It will then run the trustlines system.\nYou will find the file ",Object(a.b)("inlineCode",{parentName:"p"},"config.toml")," that can be used to modify the config of the relay.\nThe file ",Object(a.b)("inlineCode",{parentName:"p"},"addresses.json")," contains the addresses of currency networks used by the relay.\nThe key and password for the blockchain node is in the ",Object(a.b)("inlineCode",{parentName:"p"},"config")," directory.\nThe directories ",Object(a.b)("inlineCode",{parentName:"p"},"databases"),", ",Object(a.b)("inlineCode",{parentName:"p"},"enode"),", and ",Object(a.b)("inlineCode",{parentName:"p"},"shared")," are used to persist the data of the blockchain node.\nThere is no persistence of the database of the events indexer used by the relay.\nThe script uses the port ",Object(a.b)("inlineCode",{parentName:"p"},"30302")," for networking of the blockchain node and exposes the relay api on\n",Object(a.b)("inlineCode",{parentName:"p"},"127.0.0.1:5000")),Object(a.b)("h2",{id:"stopping-and-restarting-services"},"Stopping and restarting services"),Object(a.b)("p",null,"You can stop the running via ",Object(a.b)("inlineCode",{parentName:"p"},"docker stop <service>")," or stop all running docker\ncontainers with ",Object(a.b)("inlineCode",{parentName:"p"},"docker stop $(docker ps -a -q)"),". You can remove the containers\nsimilarly using ",Object(a.b)("inlineCode",{parentName:"p"},"docker rm <service>")," or ",Object(a.b)("inlineCode",{parentName:"p"},"docker rm $(docker ps -a -q)"),"."),Object(a.b)("p",null,"To resume running the services, change directory into the created ",Object(a.b)("inlineCode",{parentName:"p"},"/tlbc")," or ",Object(a.b)("inlineCode",{parentName:"p"},"/laika"),"\nand execute ",Object(a.b)("inlineCode",{parentName:"p"},"./run-e2e.sh"),"."))}l.isMDXComponent=!0},872:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return h}));var r=n(0),o=n.n(r);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var p=o.a.createContext({}),l=function(e){var t=o.a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):c(c({},t),e)),n},u=function(e){var t=l(e.components);return o.a.createElement(p.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},b=o.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,i=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=l(n),b=r,h=u["".concat(i,".").concat(b)]||u[b]||d[b]||a;return n?o.a.createElement(h,c(c({ref:t},p),{},{components:n})):o.a.createElement(h,c({ref:t},p))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,i=new Array(a);i[0]=b;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c.mdxType="string"==typeof e?e:r,i[1]=c;for(var p=2;p<a;p++)i[p]=n[p];return o.a.createElement.apply(null,i)}return o.a.createElement.apply(null,n)}b.displayName="MDXCreateElement"}}]);